---
import { ArticleService } from '../services/api.service';
import MainLayout from '../layouts/MainLayout.astro';
import ArticlesList from '../components/ArticlesList';

// Fetch initial articles during server-side rendering
const initialArticles = await ArticleService.getArticles(1, 5).catch(() => []);
---

<MainLayout title="Home">
  <div class="container mx-auto px-4">
    <h1 class="text-2xl font-bold mb-4">Latest Articles</h1>
    
    <ArticlesList client:load initialArticles={initialArticles} />
  </div>
</MainLayout>